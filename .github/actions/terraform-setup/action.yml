name: "install-terraform"
description: "Install terraform and runs init"
inputs:
  tf_version:
    description: "Terraform version"
    required: true
runs:
  using: "composite"
  steps:
    - name: Install Terraform
      run: |
        sudo apt-get update
        sudo apt-get install -y wget unzip
        wget https://releases.hashicorp.com/terraform/${{ inputs.tf_version }}/terraform_${{ inputs.tf_version }}_linux_amd64.zip
        unzip terraform_${{ inputs.tf_version }}_linux_amd64.zip
        sudo mv terraform /usr/local/bin/

    - name: Terraform init
      run: terraform init